## 할 일

### 1) 환경변수 파일 자동 생성

* 환경변수 파일이 없는 경우, **프로그램 실행 시 기본값으로 자동 생성**되도록 한다.
* **문자열 통계 / 자동 명령**과 관련된 환경변수는 **최초 자동 생성 시 빈값**으로 한다.
* 로그 디렉토리 설정이 지정되지 않아 최초 실행 시 로그 디렉토리를 지정하는 경우, **지정된 디렉토리를 즉시 환경변수에 자동 등록**한다.
* 프로그램 종료 시 **모든 환경변수는 자동 저장**되어, 다음 실행 시 사용 가능하도록 한다.
* 환경변수 자동 생성 시 자동 재연결 변수는 다음으로 고정한다.

  * `RECONNECT_INTERVAL_MS=1000`
* 환경변수와 관련된 데이터(문자열 통계, 자동 명령 정보 등)가 변경되는 경우 **즉시 환경변수를 업데이트**한다.

---

### 2) 화면 포커스

* 프로그램이 **비활성 창 → 활성 창**으로 전환되는 경우, 무조건 **명령 입력 텍스트 박스**에 포커스를 지정하여 **즉시 입력 가능한 상태**가 되도록 한다.

---

### 3) 자동 명령

* 자동 명령이 **중지된 상태에서도 실행될 수 있는 케이스가 있는지** 관련 소스를 점검한다.
* 환경변수에서 자동 명령을 가져와 자동으로 설정되는 경우, 프로그램 시작 시 **자동으로 시작 상태가 되는 문제**가 있다.

  * **자동으로 시작되지 않도록 수정**한다.
* 각 자동 명령 중지 시 **즉시 중지되지 않는 버그**가 있다.

  * 중지 시 해당 자동 명령에 등록된 **모든 명령 수행을 즉시 중지**한다.
* 자동 명령 목록의 제목 길이가 **한글 기준 20글자 초과** 시 다음 줄로 넘겨 **여러 줄 표시**한다.

  * 한 줄당 표시 가능한 글자 수: **한글 기준 20자**
  * 제목 길이 제한: **한글 기준 40자**
* 단말기가 **연결되지 않은 상태에서는 자동 명령을 시작할 수 없도록** 한다.
* 자동 명령 세트 등록 시 `sleep(100)` 같은 명령이 포함된 경우, **바로 다음 명령 수행을 지정 ms만큼 지연**한다.

  * 지연시간 최대: **99,999,999 ms**
  * **사전 명령어 세트 / 사후 명령어 세트** 모두 동일한 방식 적용

**예시**

* 명령어 간격: `200ms`
* 등록한 명령어 세트:

```txt
cmd1
sleep(500)
cmd2
cmd3
cmd4
```

**실행 방식**

* `cmd1` 실행 → **500ms 대기** → `cmd2` 실행
* 이후 `cmd3`, `cmd4`는 **명령어 간격(200ms)** 설정을 따른다.

---

### 4) 문자열 통계

* 단말기가 **연결되지 않은 상태에서는 문자열 통계를 시작할 수 없도록** 한다.

---

### 5) 자주 쓰는 명령어(매크로) 등록 기능 추가

자주 쓰는 명령어를 저장하고 재사용할 수 있는 기능을 추가한다.

#### 요구사항

* 상단 자동 명령 아이콘 우측에 **아이콘 추가** → 별도 창에서 명령어를 등록한다.
* 등록 창에서 항목을 **클릭하면 메인 화면 터미널로 즉시 전송되어 실행**된다.
* 등록 창은 메인 화면과 **동시에 띄워놓고 사용 가능**해야 한다.

#### 등록 규칙

* 명령어 등록 최대: **1000개**
* **명령어 추가 버튼**을 누르면 입력 가능한 **한 줄을 추가**한다.
* 명령어는 **리스트 형태**로 표시되며, 각 행의 앞에 **순서대로 번호**가 부여된다.
* 각 항목에 아래 정보를 등록한다.

  * **명령어**
  * **설명**(200자 제한)

#### 단축키 정책

* 단축키 제공 범위: **1~10번 명령어만**
* 11~1000번(최대 990개)은 **단축키 미제공**
* 등록 창에서 **“단축키는 10개만 제공”**됨을 명확히 안내한다.
