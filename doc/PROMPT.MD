# LnxTerm 프로그램 요구사항

## 시리얼 통신
- ST-Link V3 Mini를 이용한 임베디드 장치 연결
- 포트 스캔: `/dev/ttyACM*`, `/dev/ttyUSB*`
- 라인 종료 문자: LF (`\n`)
- 연결 끊김 시 자동 재연결 (3초 타이머) + 로그 자동 재개
- **포트 점유 감지 (강화됨)**
  - 리눅스 표준 Lockfile (`/var/lock/LCK..*`) 확인
  - `fuser`/`lsof` 프로세스 확인
  - 연결 시 `exclusive=True` (TIOCEXCL) 적용으로 배타적 접근 강제
  - 점유 시 경고 다이얼로그 및 강제 연결 옵션 제공
- **다중 인스턴스**: 동일한 PC에서 여러 개의 LnxTerm을 동시에 실행 가능

## 터미널 출력
- 타임스탬프: `[YYYY-MM-DD HH:MM:SS.mmm]` (날짜+시간, 밀리초)
- 모든 라인에 타임스탬프 필수 (빈 라인 포함)
- TX는 방향 표시 접두사 없이 **파란색**으로만 구분
- RX는 **초록색**으로 표시
- 수신 데이터에서 모든 `\r` (CR) 문자 제거
- 빈 엔터도 전송 가능

## 로그 파일
- 로그 디렉토리는 `.env` 파일의 `LOG_DIR` 변수로 지정
- 미설정 시 프로그램에서 디렉토리 선택 → `.env`에 자동 저장
- 파일명: `lnxterm_YYYYMMDD_HHMMSS.log` (자동 생성, 사용자 입력 불필요)
- 연결과 동시에 자동 로그 시작
- 라인 단위 기록, 즉시 flush

## GUI
- VS Code Dark+ 다크 테마
- 사이드바: 포트 설정, 현재 로그 파일명 표시
- 터미널 영역: 자동 스크롤, 검색 (Ctrl+F)
- 명령 입력: 하단 입력바, Enter 전송, 히스토리 (↑↓)
- 상태바: 연결 상태, 포트, baudrate, RX/TX 카운트

## 배포 및 보안
- **단독 실행 파일**: PyInstaller를 사용하여 Python 미설치 환경에서도 실행 가능한 바이너리 제공
- **보안**: `.env` 파일은 절대 AI로 전송하지 않음, git에 포함하지 않음
