# LnxTerm 프로그램 요구사항

## 버전
- 현재 작업 대상: **v1.8.1**

## 시리얼 통신
- ST-Link V3 Mini를 이용한 임베디드 장치 연결
- 포트 스캔: `/dev/ttyACM*`, `/dev/ttyUSB*`
- 라인 종료 문자: LF (`\n`)
- 연결 끊김 시 자동 재연결 (3초 타이머) + 로그 자동 재개
- 포트 점유 감지 (강화)
  - Linux 표준 Lockfile (`/var/lock/LCK..*`) 확인
  - `fuser` / `lsof` 프로세스 확인
  - 연결 시 `exclusive=True` (`TIOCEXCL`) 적용
  - 점유 시 경고 다이얼로그 및 강제 연결 옵션 제공(자동 연결 시 경고만)
- 다중 인스턴스 허용: 동일 PC에서 여러 창 실행 가능

## 터미널 출력
- 타임스탬프: `[YYYY-MM-DD HH:MM:SS.mmm]` (밀리초)
- 모든 라인에 타임스탬프 추가(빈 라인 포함)
- TX는 파란색, RX는 초록색으로 구분 표시
- 수신 데이터의 모든 `\r` 제거
- 빈 엔터 전송 가능

## 로그 파일
- `LOG_DIR` 기준 경로 사용, 미설정 시 최초 실행에서 선택 다이얼로그 표시
- 파일명: `lnxterm_YYYYMMDD_HHMMSS.log` (자동 생성)
- 연결과 동시에 자동 로그 시작
- 라인 단위 즉시 flush 기록
- 사이드바에 절대 경로 표시 후 선택/복사 가능
- 사이드바에서 통계 CSV 시작 시각/카운트/대소문자 구분 상태를 관리
- 문자열 통계 CSV 열 순서(요구사항 준수): `문자열, 집계 시점, 누적 카운트, 대소문자 구분, 로그`
- 통계 CSV의 로그 열은 대상 문자열이 포함된 **완전한 원문 라인**을 저장

## GUI
- 좌우 분할(사이드바/터미널) 영역 크기 조절 가능
- 사이드바 상단: 연결/해제, 터미널 클리어 아이콘 버튼
- 연결 설정, 로그 경로, 통계 경로, 문자열 카운터를 한 화면에서 처리
- 문자열 찾기: 최대 10개 텍스트 등록, 항목별 카운트/시작 시각/초기화
- 복사 버튼은 명확히 클릭 가능한 비주얼(색상/이미지) 적용
- 터미널 검색(Ctrl+F), 자동 스크롤, 하이라이트
- 하단 입력바 전송, 히스토리(↑/↓)
- 상태바: 연결 상태, 포트, baudrate, RX/TX 카운트 표시

## 배포 및 보안
- PyInstaller 단독 실행 파일 배포 (`dist/lnxterm`)
- `.env`는 절대 커밋/AI 전송 금지
- `.antigravityignore`, `.gitignore`에 민감 파일 및 실행 산출물 반영
