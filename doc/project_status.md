# LnxTerm 프로젝트 현재 상태 (Project Status)

**최종 업데이트:** 2026-02-13
**현재 버전:** v1.7.2

이 문서는 다음 개발 세션이나 다른 AI가 프로젝트의 흐름을 즉시 파악하고 작업을 이어갈 수 있도록 정리된 상태 보고서입니다.

## 1. 프로젝트 개요
ST-Link V3 Mini를 이용한 임베디드 장치 디버그 및 로그 수집용 시리얼 터미널 GUI 프로그램입니다. VS Code Dark+ 스타일의 다크 테마를 기반으로 하며, 개발 편의성과 안정성에 초점을 맞췄습니다.

## 2. 주요 구현 기능 (v1.7.2 기준)

### 핵심 기능
- **시리얼 통신**: `pyserial` 기반 비동기 데이터 송수신 (`QThread` 활용).
- **스마트 타임스탬프**: 빈 라인을 포함한 모든 출력에 `[YYYY-MM-DD HH:MM:SS.mmm]` 형식 타임스탬프 자동 부여.
- **자동 재연결**: 연결 끊김 시 3초 타이머로 자동 재시도 및 로그 파일 연속 기록.
- **자동 로깅**: `.env`에 설정된 `LOG_DIR`에 타임스탬프 기반 파일명으로 즉시 기록 및 Flush.

### 안정성 및 편의성
- **포트 점유 감지**:
    - **1단계**: 리눅스 표준 Lockfile (`/var/lock/LCK..tty*`) 확인.
    - **2단계**: `fuser`/`lsof` 프로세스 조회 (PID 및 프로세스명 경고 출력).
    - **3단계**: `exclusive=True` (TIOCEXCL) 모드 적용으로 커널 레벨 배타적 접근 강제.
- **다중 인스턴스**: 하나의 PC에서 여러 개의 실행 파일을 띄워 서로 다른 포트를 각각 모니터링 가능.
- **경로 복사**: 사이드바에 현재 로그 파일의 **절대 경로**를 표시하고, 마우스로 드래그하여 바로 복사 가능.
- **검색**: `Ctrl+F` 위젯을 통한 실시간 텍스트 검색, 하이라이트 및 이동 기능.

### 배포 및 보안
- **빌드 시스템**: `PyInstaller`를 사용하여 Python 미설치 환경에서도 구동되는 단독 바이너리(`dist/lnxterm`) 생성.
- **보안**: `.env` 파일을 `.gitignore`와 `.antigravityignore`에 등록하여 외부에 유출되지 않도록 보호.
- **GitHub 연동**: 태그 생성, 코드 푸시, 릴리스(바이너리 첨부) 과정을 자동화하여 관리.

## 3. 파일 구조 요약
- `main.py`: 엔트리포인트 (QApplication 실행).
- `main_window.py`: 메인 UI 레이아웃 및 시리얼 연결 로직 관리.
- `serial_manager.py`: 시리얼 포트 스캔, 연결, 점유 감지 핵심 비즈니스 로직.
- `terminal_widget.py`: 타임스탬프 및 색상 처리가 포함된 텍스트 출력부.
- `sidebar_widget.py`: 포트 설정 및 로그 파일 정보 표시/복사 제어.
- `search_widget.py`: 터미널 내 검색 엔진.
- `styles.py`: VS Code Dark+ 테마 컬러 및 CSS 정의.
- `build_exe.sh`: 단독 실행 파일 빌드 스크립트.

## 4. 환경 설정
- `.env.example`을 참고하여 `.env` 파일에 `LOG_DIR`을 설정해야 합니다.
- 리눅스 환경(`ttyACM`, `ttyUSB`)에서 포트 접근 권한 및 `fuser`/`lsof` 명령어가 필요합니다.

## 5. 향후 과제
- 현재 모든 기반 기능이 완료되어 배포(v1.7.2)된 상태입니다.
- 향후 필터링 기능이나 플러그인 스타일의 로그 파서 기능을 추가할 수 있는 구조입니다.

---
**Antigravity AI가 정리함**
